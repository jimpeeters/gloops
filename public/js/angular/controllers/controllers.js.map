{"version":3,"sources":["LoopController.js","AlertController.js","LibraryController.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"controllers.js","sourcesContent":["gloopsApp.controller('LoopController', ['$scope', '$http', function($scope, $http) {\r\n\r\n    $scope.playLoop = function($event) {\r\n\r\n        var music = $event.currentTarget.nextElementSibling;\r\n        var playBtnIcon = $event.target;\r\n        var duration = $event.currentTarget.parentElement.nextElementSibling.children[1];\r\n\r\n        if (music.paused) {\r\n            music.play();\r\n            playBtnIcon.className = \"fa fa-pause\";\r\n\r\n        } \r\n        else { \r\n            music.pause();\r\n            playBtnIcon.className = \"fa fa-play\";\r\n        }\r\n\r\n        function pad(n) {\r\n            return (n < 10) ? (\"0\" + n) : n;\r\n        }\r\n\r\n        music.ontimeupdate = function() {\r\n          duration.innerHTML = '0:' + pad(Math.round(music.currentTime));\r\n        }\r\n\r\n    };\r\n\r\n    $scope.favourite = function($loopId) {\r\n\r\n        $scope.isFavourite = !$scope.isFavourite;\r\n\r\n        var data = {};\r\n        $data = {\r\n            loopId : $loopId\r\n        };\r\n\r\n        $http({\r\n              method  : 'POST',\r\n              url     : 'loop/favourite',\r\n              headers : {'Content-Type': 'application/json'},\r\n              dataType: 'json',\r\n              data    : $data\r\n        });\r\n    };\r\n\r\n}]);","gloopsApp.controller('AlertController', ['$scope', '$timeout', function($scope, $timeout) {\r\n\r\n\r\n    $scope.closeAlert = function () {\r\n        $scope.startFade = true;\r\n        $timeout(function(){\r\n            $scope.hidden = true;\r\n        }, 1200);\r\n        \r\n    };\r\n\r\n}]);","gloopsApp.controller('LibraryController', ['$scope', '$http', function($scope, $http) {\r\n\r\n    //Sidebar toggle\r\n    $scope.sidebarUp = false;\r\n\r\n    //Get user \r\n    $scope.getUser = function() {\r\n\r\n        $http({\r\n              method  : 'GET',\r\n              url     : '/getuser'\r\n        }).success(function(data) {\r\n\r\n            $scope.currentUser = data;\r\n\r\n            //if user object is empty (not logged in)\r\n            if(Object.keys($scope.currentUser).length > 0)\r\n            {\r\n                $scope.loggedIn = true;\r\n            }\r\n            else\r\n            {\r\n                $scope.loggedIn = false;\r\n            }\r\n\r\n        });\r\n    };\r\n\r\n    //Get all loops from database\r\n    $scope.getLoops = function() {\r\n\r\n        $http({\r\n              method  : 'GET',\r\n              url     : '/library/data'\r\n        }).success(function(data) {\r\n\r\n            $scope.loops = data;\r\n        });\r\n    };\r\n\r\n    $scope.getLoops();\r\n    $scope.getUser();\r\n\r\n}]);"],"sourceRoot":"/source/"}