{"version":3,"sources":["LoopController.js","AlertController.js","LibraryController.js","ProfileController.js","HomeController.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"controllers.js","sourcesContent":["gloopsApp.controller('LoopController', ['$scope', '$http', function($scope, $http) {\n\n    $scope.playLoop = function($event) {\n\n        var music = $event.currentTarget.nextElementSibling;\n        music.preload = \"auto\";\n        var playBtnIcon = $event.target;\n        var duration = $event.currentTarget.parentElement.nextElementSibling.children[1];\n        \n        console.log(music.currentSrc);\n \n\n        if (music.paused) {\n            music.play();\n            playBtnIcon.className = \"fa fa-pause\";\n\n        } \n        else { \n            music.pause();\n            playBtnIcon.className = \"fa fa-play\";\n        }\n\n        function pad(n) {\n            return (n < 10) ? (\"0\" + n) : n;\n        }\n\n        music.ontimeupdate = function() {\n          duration.innerHTML = '0:' + pad(Math.round(music.currentTime));\n        }\n\n    };\n\n    // Toggle favourite loop\n    $scope.favourite = function(loopId) {\n\n        $loopId = loopId;\n        $scope.isFavourite = !$scope.isFavourite;\n\n        var data = {};\n        $data = {\n            loopId : $loopId\n        };\n\n        $http({\n              method  : 'POST',\n              url     : 'loop/favourite',\n              headers : {'Content-Type': 'application/json'},\n              dataType: 'json',\n              data    : $data\n        });\n    };\n\n}]);","gloopsApp.controller('AlertController', ['$scope', '$timeout', function($scope, $timeout) {\n\n\n    $scope.closeAlert = function () {\n        $scope.startFade = true;\n        $timeout(function(){\n            $scope.hidden = true;\n        }, 1200);\n        \n    };\n\n}]);","gloopsApp.controller('LibraryController', ['$scope', '$http', function($scope, $http) {\n\n    // Get all loops from database\n    $scope.getLoops = function() {\n\n        $http({\n              method  : 'GET',\n              url     : '/library/data'\n        }).success(function(data) {\n\n            $scope.loops = data;\n        });\n    };\n\n    // Get loops\n    $scope.getLoops();\n\n    // Sidebar toggle\n    $scope.sidebarUp = true;\n\n    // Filters\n    $scope.categoryIncludes = [];\n\n    $scope.includeCategory = function(category) {\n        var i = $.inArray(category, $scope.categoryIncludes);\n        if (i > -1) {\n            $scope.categoryIncludes.splice(i, 1);\n        } else {\n            $scope.categoryIncludes.push(category);\n        }\n\n        $scope.loops.sort(category);\n    }\n    \n    $scope.categoryFilter = function(loop) {\n        if ($scope.categoryIncludes.length > 0) {\n            if ($.inArray(loop.category.name, $scope.categoryIncludes) < 0)\n                return;\n        }\n        \n        return loop;\n    }\n\n    // Order by\n    $scope.sortParameter = '';\n\n    // Load more button\n    $scope.loopLimit = 9;\n    \n    /*    //Get user \n    $scope.getUser = function() {\n\n        $http({\n              method  : 'GET',\n              url     : '/getuser'\n        }).success(function(data) {\n\n            $scope.currentUser = data;\n\n            //if user object is empty (not logged in)\n            if(Object.keys($scope.currentUser).length > 0)\n            {\n                $scope.loggedIn = true;\n            }\n            else\n            {\n                $scope.loggedIn = false;\n            }\n\n        });\n    };\n*/\n\n    //$scope.getUser();\n\n}]);","gloopsApp.controller('ProfileController', ['$scope', '$http', '$location', '$anchorScroll', function($scope, $http, $location, $anchorScroll) {\n\n    // Limit on loops\n    $scope.loopLimit = 9;\n\n    // Get all favourited loops from database\n    $scope.getUserFavourites = function() {\n\n        $http({\n              method  : 'GET',\n              url     : '/profile/getFavouriteLoops'\n        }).success(function(data) {\n            $scope.favouriteLoops = data;\n        });\n    };\n    $scope.getUserFavourites();\n\n    // Remove favourite in front-end \n    $scope.removeFavourite = function(loop) {\n        var i = $.inArray(loop, $scope.favouriteLoops);\n        $scope.favouriteLoops.splice(i, 1);\n    }\n\n}]);","gloopsApp.controller('HomeController', ['$scope', '$http', function($scope, $http) {\n\n    // Get best loops from database\n    $scope.getBestLoops = function() {\n\n        $http({\n              method  : 'GET',\n              url     : '/getBestLoops'\n        }).success(function(data) {\n\n            $scope.loops = data;\n        });\n    };\n\n    // Get loops\n    $scope.getBestLoops();\n\n}]);"],"sourceRoot":"/source/"}