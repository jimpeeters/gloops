{"version":3,"sources":["LoopController.js","AlertController.js","LibraryController.js","StationController.js","ProfileController.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"controllers.js","sourcesContent":["gloopsApp.controller('LoopController', ['$scope', '$http', function($scope, $http) {\r\n\r\n    $scope.playLoop = function($event) {\r\n\r\n        var music = $event.currentTarget.nextElementSibling;\r\n        var playBtnIcon = $event.target;\r\n        var duration = $event.currentTarget.parentElement.nextElementSibling.children[1];\r\n\r\n        if (music.paused) {\r\n            music.play();\r\n            playBtnIcon.className = \"fa fa-pause\";\r\n\r\n        } \r\n        else { \r\n            music.pause();\r\n            playBtnIcon.className = \"fa fa-play\";\r\n        }\r\n\r\n        function pad(n) {\r\n            return (n < 10) ? (\"0\" + n) : n;\r\n        }\r\n\r\n        music.ontimeupdate = function() {\r\n          duration.innerHTML = '0:' + pad(Math.round(music.currentTime));\r\n        }\r\n\r\n    };\r\n\r\n    // Toggle favourite loop\r\n    $scope.favourite = function(loopId) {\r\n\r\n        $loopId = loopId;\r\n        $scope.isFavourite = !$scope.isFavourite;\r\n\r\n        var data = {};\r\n        $data = {\r\n            loopId : $loopId\r\n        };\r\n\r\n        $http({\r\n              method  : 'POST',\r\n              url     : 'loop/favourite',\r\n              headers : {'Content-Type': 'application/json'},\r\n              dataType: 'json',\r\n              data    : $data\r\n        });\r\n    };\r\n\r\n}]);","gloopsApp.controller('AlertController', ['$scope', '$timeout', function($scope, $timeout) {\r\n\r\n\r\n    $scope.closeAlert = function () {\r\n        $scope.startFade = true;\r\n        $timeout(function(){\r\n            $scope.hidden = true;\r\n        }, 1200);\r\n        \r\n    };\r\n\r\n}]);","gloopsApp.controller('LibraryController', ['$scope', '$http', function($scope, $http) {\r\n\r\n    // Get all loops from database\r\n    $scope.getLoops = function() {\r\n\r\n        $http({\r\n              method  : 'GET',\r\n              url     : '/library/data'\r\n        }).success(function(data) {\r\n\r\n            $scope.loops = data;\r\n        });\r\n    };\r\n\r\n    // Get loops\r\n    $scope.getLoops();\r\n\r\n    // Sidebar toggle\r\n    $scope.sidebarUp = true;\r\n\r\n    // Filters\r\n    $scope.categoryIncludes = [];\r\n\r\n    $scope.includeCategory = function(category) {\r\n        var i = $.inArray(category, $scope.categoryIncludes);\r\n        if (i > -1) {\r\n            $scope.categoryIncludes.splice(i, 1);\r\n        } else {\r\n            $scope.categoryIncludes.push(category);\r\n        }\r\n\r\n        $scope.loops.sort(category);\r\n    }\r\n    \r\n    $scope.categoryFilter = function(loop) {\r\n        if ($scope.categoryIncludes.length > 0) {\r\n            if ($.inArray(loop.category.name, $scope.categoryIncludes) < 0)\r\n                return;\r\n        }\r\n        \r\n        return loop;\r\n    }\r\n\r\n    // Order by\r\n    $scope.sortParameter = '';\r\n\r\n    // Load more button\r\n    $scope.loopLimit = 9;\r\n    \r\n    /*    //Get user \r\n    $scope.getUser = function() {\r\n\r\n        $http({\r\n              method  : 'GET',\r\n              url     : '/getuser'\r\n        }).success(function(data) {\r\n\r\n            $scope.currentUser = data;\r\n\r\n            //if user object is empty (not logged in)\r\n            if(Object.keys($scope.currentUser).length > 0)\r\n            {\r\n                $scope.loggedIn = true;\r\n            }\r\n            else\r\n            {\r\n                $scope.loggedIn = false;\r\n            }\r\n\r\n        });\r\n    };\r\n*/\r\n\r\n    //$scope.getUser();\r\n\r\n}]);","gloopsApp.controller('StationController', ['$scope','$http', function($scope, $http){\r\n\r\n    // Enable deleting\r\n    $scope.enableDeleting = false;\r\n\r\n    // Limit on 'your loops'\r\n    $scope.loopLimit = 9;\r\n\r\n    $scope.successMessage = \"\";\r\n\r\n    // Get all user his loops from database\r\n    $scope.getUserLoops = function() {\r\n\r\n        $http({\r\n              method  : 'GET',\r\n              url     : '/station/getUserLoops'\r\n        }).success(function(data) {\r\n            $scope.loops = data;\r\n        });\r\n    };\r\n\r\n    $scope.getUserLoops();\r\n\r\n    // Delete a loop\r\n    $scope.deleteLoop = function(loop) {\r\n\r\n        $loopId = loop.id\r\n        var data = {};\r\n        $data = {\r\n            loopId : $loopId\r\n        }\r\n        $http({\r\n              method  : 'POST',\r\n              url     : 'loop/delete',\r\n              headers : {'Content-Type': 'application/json'},\r\n              dataType: 'json',\r\n              data    : $data\r\n        });\r\n\r\n        /*.then(function successCallback(response) {\r\n\r\n                // Send successmessage\r\n                $scope.successMessage = \"You have successfully removed\";\r\n                \r\n            \r\n            }, function errorCallback(response) {\r\n\r\n                // Send error message\r\n\r\n                // Include loop back in array\r\n                $scope.loops.push(loop);\r\n            \r\n            });*/\r\n\r\n        \r\n\r\n        // Remove loop from loops array\r\n        var i = $.inArray(loop, $scope.loops);\r\n        $scope.loops.splice(i, 1);\r\n\r\n\r\n\r\n    }  \r\n}]);","gloopsApp.controller('ProfileController', ['$scope', '$http', function($scope, $http) {\r\n\r\n    // Toggle Login/Register view\r\n    $scope.loginView = true;\r\n\r\n    // Limit on loops\r\n    $scope.loopLimit = 9;\r\n\r\n    // Get all favourited loops from database\r\n    $scope.getUserFavourites = function() {\r\n\r\n        $http({\r\n              method  : 'GET',\r\n              url     : '/profile/getFavouriteLoops'\r\n        }).success(function(data) {\r\n            $scope.favouriteLoops = data;\r\n            console.log(data);\r\n        });\r\n    };\r\n\r\n    $scope.getUserFavourites();\r\n\r\n    $scope.removeFavourite = function(loop) {\r\n        var i = $.inArray(loop, $scope.favouriteLoops);\r\n        $scope.favouriteLoops.splice(i, 1);\r\n    }\r\n\r\n}]);"],"sourceRoot":"/source/"}